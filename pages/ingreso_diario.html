<!--
  ingreso_diario.html
  Vista: Ingreso Diario

  Objetivo:
  - Permitir registrar montos diarios por concepto (ingresos y gastos).
  - Mostrar un resumen superior con:
      * Balance del día (ingresos - gastos)  -> #gasto-hoy
      * Total general/mensual desde backend  -> #total-general

  Integración con JS (InterfazIngreso):
  - Lee/actualiza:
      #fecha, #ingresos-list, #gastos-list
      #total-ingresos, #total-gastos, #gasto-hoy, #total-general
  - Eventos:
      .btn-edit   (cargar datos guardados del día)
      .btn-update (guardar/actualizar montos)
-->

<div class="layout">
  <main class="main-content">

    <!-- Encabezado de la pantalla -->
    <h1 class="page-title">Ingreso Diario</h1>

    <!-- Barra superior: fecha de trabajo + acciones (Editar/Actualizar) -->
    <div class="date-section">
      <div class="date-control">
        <label>Fecha</label>

        <!-- Input de fecha usado por InterfazIngreso.js -->
        <div class="date-input-wrapper">
          <input type="date" id="fecha" />
          <span class="date-icon">✕</span>
        </div>

        <div class="date-hint">DD/MM/YYYY</div>
      </div>

      <!-- Acciones principales (listeners en InterfazIngreso.js) -->
      <button class="btn-edit">Editar</button>
      <button class="btn-update">Actualizar</button>
    </div>

    <!-- Resumen superior (centrado): Balance del día y Total General -->
    <div
      class="balance-hero"
      style="
        margin-top: 18px;
        margin-bottom: 18px;
        display: grid;
        place-items: center;
      "
    >
      <div
        style="
          width: min(980px, 100%);
          background: linear-gradient(180deg, #ffffff 0%, #f7f7f7 100%);
          border: 1px solid #e5e7eb;
          border-radius: 18px;
          padding: 22px 18px;
          box-shadow: 0 18px 30px rgba(0,0,0,.12);
          text-align: center;
        "
      >
        <div style="font-size: 13px; color:#6b7280; font-weight:900; letter-spacing:.18em; text-transform: uppercase;">
          Balance
        </div>

        <div style="margin-top: 18px; display:flex; gap:16px; justify-content:center; flex-wrap:wrap;">
          <!-- Balance del día (lo calcula InterfazIngreso.js) -->
          <div
            style="
              background:#ffffff;
              border:1px solid #e5e7eb;
              border-radius: 18px;
              padding: 22px 26px;
              min-width: 320px;
              box-shadow: 0 16px 28px rgba(0,0,0,.12);
              text-align:center;
              position: relative;
              overflow: hidden;
              transition: transform .12s ease, box-shadow .18s ease;
            "
            onmouseenter="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 20px 34px rgba(0,0,0,.14)'"
            onmouseleave="this.style.transform='translateY(0)'; this.style.boxShadow='0 16px 28px rgba(0,0,0,.12)'"
          >
            <div style="position:absolute; inset:0 auto auto 0; width:100%; height:7px; background: rgba(16,185,129,.95);"></div>

            <div style="font-size:15px; color:#6b7280; font-weight:900; letter-spacing:.10em; text-transform:uppercase;">
              Balance
            </div>
            <div style="margin-top: 10px; font-size:38px; font-weight:900; line-height:1.1;">
              S/ <span id="gasto-hoy">0.00</span>
            </div>
          </div>

          <!-- Total general/mensual (lo trae el backend y lo pinta InterfazIngreso.js) -->
          <div
            style="
              background:#ffffff;
              border:1px solid #e5e7eb;
              border-radius: 18px;
              padding: 22px 26px;
              min-width: 320px;
              box-shadow: 0 16px 28px rgba(0,0,0,.12);
              text-align:center;
              position: relative;
              overflow: hidden;
              transition: transform .12s ease, box-shadow .18s ease;
            "
            onmouseenter="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 20px 34px rgba(0,0,0,.14)'"
            onmouseleave="this.style.transform='translateY(0)'; this.style.boxShadow='0 16px 28px rgba(0,0,0,.12)'"
          >
            <div style="position:absolute; inset:0 auto auto 0; width:100%; height:7px; background: rgba(59,130,246,.95);"></div>

            <div style="font-size:15px; color:#6b7280; font-weight:900; letter-spacing:.10em; text-transform:uppercase;">
              Total General
            </div>
            <div style="margin-top: 10px; font-size:38px; font-weight:900; line-height:1.1;">
              S/ <span id="total-general">0.00</span>
            </div>
          </div>
        </div>

        <div style="margin-top: 14px; font-size: 12px; color:#6b7280;">
          Tip: usa <b>Actualizar</b> para recalcular.
        </div>
      </div>
    </div>

    <!-- Sección principal: registro de Ingresos y Gastos -->
    <div class="sections-container">

      <!-- Ingresos -->
      <div class="section-card">
        <h2 class="section-title">Ingresos</h2>

        <!-- InterfazIngreso.js inyecta aquí los conceptos e inputs dinámicos -->
        <div class="item-list" id="ingresos-list"></div>

        <!-- Fila auxiliar (maqueta). No se envía si el JS guarda solo .input-ingreso y .input-gastos -->
        <div class="concept-row">
          <div class="concept-select-wrapper">
            <select id="ingreso-concepto">
              <option value="" disabled selected>Concepto</option>
              <option value="ocio">Ocio</option>
              <option value="comida">Comida</option>
              <option value="transporte">Transporte</option>
              <option value="ropa">Ropa</option>
              <option value="nuevo">Nuevo</option>
            </select>
            <span class="select-arrow">▼</span>
          </div>

          <input type="number" class="amount-input" id="ingreso-monto" placeholder="0.00" step="0.01" min="0" />
        </div>

        <hr class="divider" />

        <!-- Total de ingresos calculado por InterfazIngreso.js -->
        <div class="total-row">
          <span class="total-label">TOTAL</span>
          <span class="total-value" id="total-ingresos">0.00000</span>
        </div>
      </div>

      <!-- Gastos -->
      <div class="section-card">
        <h2 class="section-title">Gastos</h2>

        <!-- InterfazIngreso.js inyecta aquí los conceptos e inputs dinámicos -->
        <div class="item-list" id="gastos-list"></div>

        <!-- Fila auxiliar (maqueta). No se envía si el JS guarda solo .input-ingreso y .input-gastos -->
        <div class="concept-row">
          <div class="concept-select-wrapper">
            <select id="gasto-concepto">
              <option value="" disabled selected>Concepto</option>
              <option value="ocio">Ocio</option>
              <option value="comida">Comida</option>
              <option value="transporte">Transporte</option>
              <option value="ropa">Ropa</option>
              <option value="nuevo">Nuevo</option>
            </select>
            <span class="select-arrow">▼</span>
          </div>

          <input type="number" class="amount-input" id="gasto-monto" placeholder="0.00" step="0.01" min="0" />
        </div>

        <hr class="divider" />

        <!-- Total de gastos calculado por InterfazIngreso.js -->
        <div class="total-row">
          <span class="total-label">TOTAL</span>
          <span class="total-value" id="total-gastos">0.00</span>
        </div>
      </div>

    </div>
  </main>
</div>
