<!--
  PBA001
  Interfaz (Pages) - Balance (balance.html).
  PropÃ³sito: estructura visual de la pantalla Balance:
  - Filtros por fecha (#fecha) y usuario (#usuario)
  - BotÃ³n de filtrar (.btn-filterbalance) que dispara la recarga de datos (JS)
  - Botones de acciones: Graficar (.btn-graph) e Historial (.btn-history)
  - Contenedores donde la InterfazBalance inyecta datos:
      * #ingresos-list, #total-ingresos
      * #gastos-list,   #total-gastos
      * #todos-anos (anual), #mensual (mensual)
-->

<div class="layout">
  <main class="main-content">
    <!-- PBA002: TÃ­tulo de la pantalla (puede actualizarse segÃºn el usuario seleccionado) -->
    <h1 class="page-title">Balance</h1>

    <!-- PBA003: SecciÃ³n de filtros y acciones (fecha, usuario, filtrar, graficar, historial) -->
    <div class="filters-section" style="display:flex; align-items:center; gap:12px; flex-wrap:wrap;">

      <!-- PBA004: Filtro por fecha -->
      <div class="date-filter" style="min-width:240px;">
        <div class="date-control">
          <label>Filtrar por Fecha</label>
          <div class="date-input-wrapper">
            <input type="date" id="fecha" />
            <span class="date-icon">âœ•</span>
          </div>
          <div class="date-hint">DD/MM/YYYY</div>
        </div>
      </div>

      <!-- PBA005: Filtro por usuario -->
      <div class="filter-group" style="min-width:220px;">
        <span class="filter-label">Filtrar por Usuario</span>
        <div class="concept-select-wrapper" style="max-width:200px;">
          <select id="usuario" style="width:100%">
            <option value="yo" selected>Yo</option>
          </select>
          <span class="select-arrow">â–¼</span>
        </div>
      </div>

      <!-- PBA006: BotÃ³n "Filtrar" -->
      <button
        class="btn-filterbalance"
        style="
          padding: 12px 18px;
          border: 1px solid #d1d5db;
          background: linear-gradient(180deg, #111827 0%, #0b1220 100%);
          color: #fff;
          border-radius: 12px;
          cursor: pointer;
          font-weight: 700;
          font-size: 14px;
          letter-spacing: .2px;
          box-shadow: 0 10px 18px rgba(0,0,0,.18);
          transition: transform .08s ease, box-shadow .18s ease, filter .18s ease;
        "
        onmouseenter="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 14px 22px rgba(0,0,0,.22)'"
        onmouseleave="this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 18px rgba(0,0,0,.18)'"
      >
        Filtrar
      </button>

      <!-- PBA007: Acciones adicionales -->
      <div class="actions-group" style="display:flex; gap:12px; margin-left:auto; align-items:center;">

        <!-- PBA008: BotÃ³n "Graficar" -->
        <button
          class="btn-graph"
          style="
            padding: 12px 18px;
            border: 1px solid #d1d5db;
            background: #ffffff;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 700;
            font-size: 14px;
            box-shadow: 0 10px 18px rgba(0,0,0,.10);
            transition: transform .08s ease, box-shadow .18s ease, background .18s ease;
            position: relative;
            overflow: hidden;
          "
          onmouseenter="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 14px 22px rgba(0,0,0,.14)';"
          onmouseleave="this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 18px rgba(0,0,0,.10)';"
          onclicka="const f = document.getElementById('fecha') ? document.getElementById('fecha').value : '';
          const u = document.getElementById('usuario') ? document.getElementById('usuario').value : '';
          const params = new URLSearchParams({ fecha: f, usuarioID: u });
          window.location.href = '../balance_grafica.php?' + params.toString();"
        >
          ðŸ“Š Graficar
        </button>

        <!-- PBA009: BotÃ³n "Historial" -->
        <button
          class="btn-history"
          style="
            padding: 12px 18px;
            border: 1px solid #d1d5db;
            background: #ffffff;
            border-radius: 12px;
            cursor: pointer;
            font-weight: 700;
            font-size: 14px;
            box-shadow: 0 10px 18px rgba(0,0,0,.10);
            transition: transform .08s ease, box-shadow .18s ease, background .18s ease;
          "
          onmouseenter="this.style.transform='translateY(-1px)'; this.style.boxShadow='0 14px 22px rgba(0,0,0,.14)';"
          onmouseleave="this.style.transform='translateY(0)'; this.style.boxShadow='0 10px 18px rgba(0,0,0,.10)';"
        >
          ðŸ§¾ Historial
        </button>
      </div>
    </div>

    <div
      class="balance-hero"
      style="
        margin-top: 18px;
        margin-bottom: 18px;
        display: grid;
        place-items: center;
      "
    >
      <div
        style="
          width: min(820px, 100%);
          background: linear-gradient(180deg, #ffffff 0%, #f7f7f7 100%);
          border: 1px solid #e5e7eb;
          border-radius: 18px;
          padding: 22px 18px;
          box-shadow: 0 18px 30px rgba(0,0,0,.12);
          text-align: center;
        "
      >
        <div style="font-size: 13px; color:#6b7280; font-weight:800; letter-spacing:.18em; text-transform: uppercase;">
          Balance
        </div>

        <!-- âœ… BLOQUE ANUAL / MENSUAL MÃS GRANDE Y VISIBLE -->
        <div style="margin-top: 18px; display:flex; gap:16px; justify-content:center; flex-wrap:wrap;">
          <!-- ANUAL -->
          <div
            style="
              background:#ffffff;
              border:1px solid #e5e7eb;
              border-radius: 18px;
              padding: 22px 26px;
              min-width: 300px;
              box-shadow: 0 16px 28px rgba(0,0,0,.12);
              text-align:center;
              position: relative;
              overflow: hidden;
              transition: transform .12s ease, box-shadow .18s ease;
            "
            onmouseenter="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 20px 34px rgba(0,0,0,.14)'"
            onmouseleave="this.style.transform='translateY(0)'; this.style.boxShadow='0 16px 28px rgba(0,0,0,.12)'"
          >
            <div style="position:absolute; inset:0 auto auto 0; width:100%; height:6px; background: rgba(16,185,129,.9);"></div>

            <div style="font-size:15px; color:#6b7280; font-weight:900; letter-spacing:.10em; text-transform:uppercase;">
              Anual
            </div>
            <div style="margin-top: 10px; font-size:34px; font-weight:900; line-height:1.1;">
              S/ <span id="todos-anos">15.00</span>
            </div>
          </div>

          <!-- MENSUAL -->
          <div
            style="
              background:#ffffff;
              border:1px solid #e5e7eb;
              border-radius: 18px;
              padding: 22px 26px;
              min-width: 300px;
              box-shadow: 0 16px 28px rgba(0,0,0,.12);
              text-align:center;
              position: relative;
              overflow: hidden;
              transition: transform .12s ease, box-shadow .18s ease;
            "
            onmouseenter="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 20px 34px rgba(0,0,0,.14)'"
            onmouseleave="this.style.transform='translateY(0)'; this.style.boxShadow='0 16px 28px rgba(0,0,0,.12)'"
          >
            <div style="position:absolute; inset:0 auto auto 0; width:100%; height:6px; background: rgba(59,130,246,.9);"></div>

            <div style="font-size:15px; color:#6b7280; font-weight:900; letter-spacing:.10em; text-transform:uppercase;">
              Mensual
            </div>
            <div style="margin-top: 10px; font-size:34px; font-weight:900; line-height:1.1;">
              S/ <span id="mensual">15.00</span>
            </div>
          </div>
        </div>

        <div style="margin-top: 14px; font-size: 12px; color:#6b7280;">
          Tip: usa <b>Filtrar</b> para recalcular segÃºn fecha/usuario.
        </div>
      </div>
    </div>

    <!-- PBA010: Contenedor principal de secciones (ingresos y gastos) -->
    <div class="sections-container">

      <!-- PBA011: SecciÃ³n "Ingresos" -->
      <div class="section-card">
        <h2 class="section-title">Ingresos</h2>

        <div class="balance-table" style="width:100%;">
          <div class="table-header">
            <span class="col-fecha">Fecha</span>
            <span class="col-concepto">Concepto</span>
            <span class="col-monto">Monto</span>
          </div>

          <div class="table-body" id="ingresos-list" style="padding:10px 0 6px;"></div>
        </div>

        <hr class="divider" />

        <div class="total-row">
          <span class="total-label">TOTAL</span>
          <span class="total-value" id="total-ingresos">1700</span>
        </div>
      </div>

      <!-- PBA015: SecciÃ³n "Gastos" -->
      <div class="section-card">
        <h2 class="section-title">Gastos</h2>

        <div class="balance-table" style="width:100%;">
          <div class="table-header">
            <span class="col-fecha">Fecha</span>
            <span class="col-concepto">Concepto</span>
            <span class="col-monto">Monto</span>
          </div>

          <div class="table-body" id="gastos-list" style="padding:10px 0 6px;"></div>
        </div>

        <hr class="divider" />

        <div class="total-row">
          <span class="total-label">TOTAL</span>
          <span class="total-value" id="total-gastos">650.00</span>
        </div>
      </div>

    </div>
  </main>
</div>
