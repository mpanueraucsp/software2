<!--
  PGR001
  Pages - Gráfico (graficar.html)
  Propósito:
  - Vista (HTML + CSS) para mostrar 3 gráficos de Balance.
  - Esta página NO dibuja gráficos por sí sola: InterfazGrafico.js es quien consulta al backend
    y renderiza los charts.
-->

<style>
  /*
    PGR002
    Estilos de la barra superior:
    - Alinea el botón "Atrás" a la derecha
    - Deja un padding superior para separación visual
  */
  .top-bar {
    display: flex;
    justify-content: flex-end;
    padding: 16px 20px 0;
  }

  /*
    PGR003
    Botón "Atrás":
    - Diseño tipo "pill"
    - Contraste alto para ser visible
  */
  .btn-back {
    border: none;
    background: #111827;
    color: #f9fafb;
    padding: 10px 18px;
    border-radius: 999px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
  }
  .btn-back:hover { opacity: 0.92; }

  /*
    PGR004
    Contenedor principal:
    - Centra el contenido y limita el ancho para lectura
  */
  .main {
    padding: 12px 20px 28px;
    max-width: 1100px;
    margin: 0 auto;
  }

  /* PGR005: Título de la vista */
  h1 {
    font-size: 22px;
    margin: 0 0 18px;
  }

  /*
    PGR006
    Tarjetas de gráficos:
    - Cada sección tiene fondo blanco, borde y sombra suave
    - margin-bottom para separación entre tarjetas
  */
  .card {
    background: #fff;
    border-radius: 12px;
    padding: 14px 16px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.08);
    border: 1px solid #eef0f2;
    margin-bottom: 14px;
  }

  /* PGR007: Subtítulos dentro de tarjetas */
  .card h3 {
    margin: 0 0 10px;
    font-size: 13px;
    color: #6b7280;
    font-weight: 600;
  }

  /*
    PGR008 (IMPORTANTE)
    Chart.js necesita que el canvas tenga una altura real para renderizar correctamente.
    - .chart-wrap fija una altura (260px).
    - El canvas se fuerza a ocupar el 100% del contenedor.
    Nota:
    - Esto es clave si usas maintainAspectRatio:false en Chart.js.
  */
  .chart-wrap { height: 260px; }
  .chart-wrap canvas { width: 100% !important; height: 100% !important; }

  /*
    PGR009
    Mensajes "sin datos":
    - Se ocultan por defecto (display:none).
    - InterfazGrafico.js los muestra/oculta según corresponda.
  */
  .no-data {
    display:none;
    margin-top: 8px;
    font-size: 13px;
    color: #9ca3af;
  }
</style>

<!--
  PGR010
  Barra superior:
  - Botón "Atrás" usando history.back() para volver a la vista anterior.
-->
<div class="top-bar">
  <button class="btn-back" onclick="window.history.back()">Atrás</button>
</div>

<!--
  PGR011
  Contenido principal con 3 tarjetas:
  Cada tarjeta contiene:
  - Título
  - Contenedor de altura fija (.chart-wrap) con su <canvas>
  - Un div "no-data" para mostrar mensajes si no hay información
-->
<div class="main">
  <h1>Balance - Gráfica</h1>

  <!-- PGR012: Gráfico de ingresos por concepto -->
  <section class="card">
    <h3>Ingresos por concepto</h3>
    <div class="chart-wrap"><canvas id="chartIngresos"></canvas></div>
    <div id="no-ingresos" class="no-data">No hay datos de ingresos para mostrar.</div>
  </section>

  <!-- PGR013: Gráfico de gastos por concepto -->
  <section class="card">
    <h3>Gastos por concepto</h3>
    <div class="chart-wrap"><canvas id="chartGastos"></canvas></div>
    <div id="no-gastos" class="no-data">No hay datos de gastos para mostrar.</div>
  </section>

  <!-- PGR014: Gráfico comparativo (ingresos vs gastos) -->
  <section class="card">
    <h3>Comparativo (Ingresos vs Gastos)</h3>
    <div class="chart-wrap"><canvas id="chartComparativo"></canvas></div>
    <div id="no-comp" class="no-data">No hay datos para comparar.</div>
  </section>
</div>
